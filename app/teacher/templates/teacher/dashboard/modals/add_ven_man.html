<!-- ============================================
     BOOKING DETAILS MODAL
     ============================================ -->
<div id="bookingDetailsModal" class="bdm-modal-overlay" style="display: none;">
    <div class="bdm-modal-container">
        <div class="bdm-modal-header">
            <h2 class="bdm-modal-title">
                <i class="fas fa-file-invoice"></i> Booking Details
            </h2>
            <button class="bdm-btn-close" onclick="closeBookingDetailsModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="bdm-modal-body">
            <!-- Loading State -->
            <div class="bdm-loading" id="bdmLoadingState">
                <div class="bdm-spinner"></div>
                <p>Loading booking details...</p>
            </div>

            <!-- Content -->
            <div class="bdm-content" id="bdmContent" style="display: none;">
                <!-- Status and Actions Bar -->
                <div class="bdm-status-bar" id="bdmStatusBar">
                    <div class="bdm-status-info">
                        <span class="bdm-status-badge" id="bdmStatusBadge"></span>
                        <span class="bdm-booking-id" id="bdmBookingId"></span>
                    </div>
                    <div class="bdm-action-buttons" id="bdmActionButtons">
                        <!-- Action buttons will be inserted here -->
                    </div>
                </div>

                <!-- Main Info Grid -->
                <div class="bdm-info-grid">
                    <div class="bdm-info-card">
                        <h4><i class="fas fa-store"></i> Vendor Information</h4>
                        <div class="bdm-info-list">
                            <div class="bdm-info-row">
                                <span class="bdm-label">Business Name:</span>
                                <span class="bdm-value" id="bdmVendorName"></span>
                            </div>
                            <div class="bdm-info-row">
                                <span class="bdm-label">Type:</span>
                                <span class="bdm-value" id="bdmVendorType"></span>
                            </div>
                            <div class="bdm-info-row">
                                <span class="bdm-label">Phone:</span>
                                <span class="bdm-value" id="bdmVendorPhone"></span>
                            </div>
                            <div class="bdm-info-row">
                                <span class="bdm-label">Email:</span>
                                <span class="bdm-value" id="bdmVendorEmail"></span>
                            </div>
                        </div>
                    </div>

                    <div class="bdm-info-card">
                        <h4><i class="fas fa-suitcase"></i> Trip Information</h4>
                        <div class="bdm-info-list">
                            <div class="bdm-info-row">
                                <span class="bdm-label">Trip:</span>
                                <span class="bdm-value" id="bdmTripTitle"></span>
                            </div>
                            <div class="bdm-info-row">
                                <span class="bdm-label">Dates:</span>
                                <span class="bdm-value" id="bdmTripDates"></span>
                            </div>
                            <div class="bdm-info-row">
                                <span class="bdm-label">Destination:</span>
                                <span class="bdm-value" id="bdmTripDestination"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service Details -->
                <div class="bdm-section-card">
                    <h4><i class="fas fa-clipboard-list"></i> Service Details</h4>
                    <div class="bdm-info-list">
                        <div class="bdm-info-row">
                            <span class="bdm-label">Service Type:</span>
                            <span class="bdm-value bdm-capitalize" id="bdmServiceType"></span>
                        </div>
                        <div class="bdm-info-row">
                            <span class="bdm-label">Description:</span>
                            <span class="bdm-value" id="bdmServiceDescription"></span>
                        </div>
                        <div class="bdm-info-row" id="bdmSpecialReqRow" style="display: none;">
                            <span class="bdm-label">Special Requirements:</span>
                            <span class="bdm-value" id="bdmSpecialRequirements"></span>
                        </div>
                        <div class="bdm-info-row" id="bdmNotesRow" style="display: none;">
                            <span class="bdm-label">Notes:</span>
                            <span class="bdm-value" id="bdmNotes"></span>
                        </div>
                    </div>
                </div>

                <!-- Financial Details -->
                <div class="bdm-section-card bdm-financial-card">
                    <h4><i class="fas fa-money-bill-wave"></i> Financial Details</h4>
                    <div class="bdm-financial-grid">
                        <div class="bdm-financial-item">
                            <span class="bdm-financial-label">Quoted Amount:</span>
                            <span class="bdm-financial-value" id="bdmQuotedAmount"></span>
                        </div>
                        <div class="bdm-financial-item">
                            <span class="bdm-financial-label">Total Amount:</span>
                            <span class="bdm-financial-value" id="bdmTotalAmount"></span>
                        </div>
                        <div class="bdm-financial-item">
                            <span class="bdm-financial-label">Amount Paid:</span>
                            <span class="bdm-financial-value bdm-success" id="bdmAmountPaid"></span>
                        </div>
                        <div class="bdm-financial-item">
                            <span class="bdm-financial-label">Balance:</span>
                            <span class="bdm-financial-value bdm-warning" id="bdmBalance"></span>
                        </div>
                    </div>
                </div>

                <!-- Payment History -->
                <div class="bdm-section-card" id="bdmPaymentSection" style="display: none;">
                    <h4><i class="fas fa-history"></i> Payment History</h4>
                    <div class="bdm-payment-list" id="bdmPaymentList">
                        <!-- Payment items will be inserted here -->
                    </div>
                </div>

                <!-- Activity Timeline -->
                <div class="bdm-section-card">
                    <h4><i class="fas fa-clock"></i> Activity Timeline</h4>
                    <div class="bdm-timeline" id="bdmTimeline">
                        <!-- Timeline items will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <div class="bdm-modal-footer">
            <button class="bdm-btn bdm-btn-secondary" onclick="closeBookingDetailsModal()">
                Close
            </button>
        </div>
    </div>
</div>

<!-- ============================================
     VENDOR STATISTICS MODAL
     ============================================ -->
<div id="vendorStatsModal" class="vsm-modal-overlay" style="display: none;">
    <div class="vsm-modal-container">
        <div class="vsm-modal-header">
            <h2 class="vsm-modal-title">
                <i class="fas fa-chart-bar"></i> Vendor Management Statistics
            </h2>
            <button class="vsm-btn-close" onclick="closeVendorStatsModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="vsm-modal-body">
            <!-- Loading State -->
            <div class="vsm-loading" id="vsmLoadingState">
                <div class="vsm-spinner"></div>
                <p>Loading statistics...</p>
            </div>

            <!-- Content -->
            <div class="vsm-content" id="vsmContent" style="display: none;">
                <!-- Overview Cards -->
                <div class="vsm-stats-grid">
                    <div class="vsm-stat-card vsm-stat-primary">
                        <div class="vsm-stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="vsm-stat-info">
                            <span class="vsm-stat-value" id="vsmTotalBookings">0</span>
                            <span class="vsm-stat-label">Total Bookings</span>
                        </div>
                    </div>

                    <div class="vsm-stat-card vsm-stat-success">
                        <div class="vsm-stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="vsm-stat-info">
                            <span class="vsm-stat-value" id="vsmCompletedBookings">0</span>
                            <span class="vsm-stat-label">Completed</span>
                        </div>
                    </div>

                    <div class="vsm-stat-card vsm-stat-warning">
                        <div class="vsm-stat-icon">
                            <i class="fas fa-hourglass-half"></i>
                        </div>
                        <div class="vsm-stat-info">
                            <span class="vsm-stat-value" id="vsmPendingBookings">0</span>
                            <span class="vsm-stat-label">Pending</span>
                        </div>
                    </div>

                    <div class="vsm-stat-card vsm-stat-info">
                        <div class="vsm-stat-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <div class="vsm-stat-info">
                            <span class="vsm-stat-value" id="vsmUniqueVendors">0</span>
                            <span class="vsm-stat-label">Unique Vendors</span>
                        </div>
                    </div>
                </div>

                <!-- Financial Summary -->
                <div class="vsm-section-card">
                    <h4><i class="fas fa-dollar-sign"></i> Financial Summary</h4>
                    <div class="vsm-financial-grid">
                        <div class="vsm-financial-item">
                            <span class="vsm-financial-label">Total Spent:</span>
                            <span class="vsm-financial-value vsm-success" id="vsmTotalSpent">KES 0</span>
                        </div>
                        <div class="vsm-financial-item">
                            <span class="vsm-financial-label">Pending Payments:</span>
                            <span class="vsm-financial-value vsm-warning" id="vsmPendingPayments">KES 0</span>
                        </div>
                        <div class="vsm-financial-item">
                            <span class="vsm-financial-label">Average Rating:</span>
                            <span class="vsm-financial-value">
                                <span id="vsmAverageRating">0.0</span>
                                <i class="fas fa-star" style="color: #f39c12; font-size: 14px;"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Bookings by Status -->
                <div class="vsm-section-card">
                    <h4><i class="fas fa-chart-pie"></i> Bookings by Status</h4>
                    <div class="vsm-chart-bars" id="vsmStatusChart">
                        <!-- Chart bars will be inserted here -->
                    </div>
                </div>

                <!-- Bookings by Type -->
                <div class="vsm-section-card">
                    <h4><i class="fas fa-layer-group"></i> Bookings by Service Type</h4>
                    <div class="vsm-type-list" id="vsmTypeList">
                        <!-- Type items will be inserted here -->
                    </div>
                </div>

                <!-- Export Options -->
                <div class="vsm-export-section">
                    <button class="vsm-btn vsm-btn-export" onclick="exportVendorStats()">
                        <i class="fas fa-download"></i> Export Report
                    </button>
                    <button class="vsm-btn vsm-btn-print" onclick="printVendorStats()">
                        <i class="fas fa-print"></i> Print Report
                    </button>
                </div>
            </div>
        </div>

        <div class="vsm-modal-footer">
            <button class="vsm-btn vsm-btn-secondary" onclick="closeVendorStatsModal()">
                Close
            </button>
        </div>
    </div>
</div>

<!-- ============================================
     CHECK AVAILABILITY MODAL
     ============================================ -->
<div id="checkAvailabilityModal" class="cam-modal-overlay" style="display: none;">
    <div class="cam-modal-container cam-modal-small">
        <div class="cam-modal-header">
            <h2 class="cam-modal-title">
                <i class="fas fa-calendar-check"></i> Check Vendor Availability
            </h2>
            <button class="cam-btn-close" onclick="closeAvailabilityModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <form id="checkAvailabilityForm" class="cam-modal-body">
            <div class="cam-form-group">
                <label class="cam-label required">
                    <i class="fas fa-store"></i> Select Vendor
                </label>
                <select id="camVendorSelect" class="cam-input" required>
                    <option value="">Choose a vendor...</option>
                </select>
            </div>

            <div class="cam-form-row">
                <div class="cam-form-group">
                    <label class="cam-label required">
                        <i class="fas fa-calendar"></i> Start Date
                    </label>
                    <input type="date" id="camStartDate" class="cam-input" required>
                </div>

                <div class="cam-form-group">
                    <label class="cam-label required">
                        <i class="fas fa-calendar"></i> End Date
                    </label>
                    <input type="date" id="camEndDate" class="cam-input" required>
                </div>
            </div>

            <!-- Results Section -->
            <div class="cam-results" id="camResults" style="display: none;">
                <div class="cam-result-card" id="camResultCard">
                    <!-- Result will be inserted here -->
                </div>
            </div>
        </form>

        <div class="cam-modal-footer">
            <button type="button" class="cam-btn cam-btn-secondary" onclick="closeAvailabilityModal()">
                Cancel
            </button>
            <button type="submit" form="checkAvailabilityForm" class="cam-btn cam-btn-primary">
                <i class="fas fa-search"></i> Check Availability
            </button>
        </div>
    </div>
</div>